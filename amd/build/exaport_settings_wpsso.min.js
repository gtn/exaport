define("block_exaport/exaport_settings_wpsso",["jquery","core/notification","core/toast"],(function($,notification,toast){return{init:()=>{function checkEnabledWpSSO(){var relatedOptions=["admin-block_exaport_wp_sso_url","admin-block_exaport_wp_sso_passphrase"];$("#id_s__block_exaport_wp_sso_enabled").prop("checked")?$(relatedOptions).each((function(i,elementId){$("#"+elementId).show(50)})):$(relatedOptions).each((function(i,elementId){$("#"+elementId).hide(50)}))}$("#admin-block_exaport_button_with_js").hide(),checkEnabledWpSSO(),$("body").on("click",".block_exaport_request_wp_sso_passphrase, .block_exaport_remove_passphrase, .block_exaport_test_passphrase",(function(e){e.preventDefault();var theButton=$(this),action="-NO-";theButton.hasClass("block_exaport_request_wp_sso_passphrase")?action="requestPassphrase":theButton.hasClass("block_exaport_remove_passphrase")?action="removePassphrase":theButton.hasClass("block_exaport_test_passphrase")&&(action="testPassphrase");var data={wpAction:1,action:action};if("requestPassphrase"===action){var secret=$.trim($(".block_exaport_secret_input").val());if(!secret)return alert("Enter the secret!"),!1;data.secret=secret}$.ajax({url:M.cfg.wwwroot+"/blocks/exaport/importexport.php",type:"POST",dataType:"json",data:data,xhrFields:{withCredentials:!0}}).done((function(data){"success"===data.result?$(".block_exaport_message").replaceWith(data.html):"alert"===data.result?toast.add(data.message,{type:"success",autohide:!0}):"error"===data.result&&toast.add("Error <br>"+data.message,{type:"danger",autohide:!1,closeButton:!0})})).fail((function(jqXHR,textStatus,errorThrown){toast.add("Something went wrong!",{type:"danger",autohide:!1,closeButton:!0}),console.log("error:",errorThrown,"code: 1745419297633")}))})),$("body").on("change","#id_s__block_exaport_wp_sso_enabled",(function(e){checkEnabledWpSSO()}))}}}));

//# sourceMappingURL=exaport_settings_wpsso.min.js.map